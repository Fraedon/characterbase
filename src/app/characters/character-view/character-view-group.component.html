<ng-container *ngIf="characterGroup; else missingGroup">
    <ng-container *ngIf="characterGroup.fields">
        <div class="alert alert-dark px-3 py-2 m-2 clickable" (click)="toggleCollapse()">
            {{ guideGroup.name }}
            <button type="button" class="close">
                <i class="fas fa-angle-down" *ngIf="collapsed"></i>
                <i class="fas fa-angle-up" *ngIf="!collapsed"></i>
            </button>
            <span class="float-right mr-3 font-italic" *ngIf="collapsed">
                {{ getEntryText() }}
            </span>
        </div>
        <div class="fields" *ngIf="!collapsed">
            <ng-container *ngFor="let field of guideGroup.fields">
                <cb-character-view-field
                    *ngIf="field.required || getCharacterField(field.name)"
                    [guideField]="field"
                    [characterField]="getCharacterField(field.name)"
                    [canViewHidden]="canViewHidden"
                ></cb-character-view-field>
            </ng-container>
        </div>
    </ng-container>
</ng-container>
<ng-template #missingGroup>
    <div class="alert alert-dark px-3 py-2 m-2 d-flex align-items-center">
        {{ guideGroup.name }}
        <small class="ml-auto text-muted"><i class="fas fa-exclamation-circle mr-2"></i>Missing group</small>
    </div>
</ng-template>
